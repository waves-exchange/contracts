{-# STDLIB_VERSION 6 #-}
{-# CONTENT_TYPE DAPP #-}
{-# SCRIPT_TYPE ACCOUNT #-}

let contractFile = "l2mp_staking.ride"
let SEP = "__"

let keyL2mpSwapContract = ["%s", "l2mpSwapContract"].makeString(SEP)
let l2mpSwapContract = this.getString(keyL2mpSwapContract).valueOrElse("")

func wrapErr(msg: String) = {
  contractFile + ": " + msg
}

func throwErr(msg: String) = {
  throw(wrapErr(msg))
}

@Callable(i)
func stakeFor(userAddressStr: String) = {
  (nil, unit)
}

@Callable(i)
func stakeForSwapHELPER(userAddress: String, nodeAddress: String) = {
  strict check = [
    i.originCaller.toString() == userAddress || "i.originCaller should be equal to userAddress".throwErr(),
    l2mpSwapContract == "" || i.caller.toString() == l2mpSwapContract || "i.caller should be equal l2mpSwapContract".throwErr()
  ]

  (nil, unit)
}
